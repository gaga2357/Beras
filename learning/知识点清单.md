# æ·±åº¦å­¦ä¹ æ ¸å¿ƒçŸ¥è¯†ç‚¹æ¸…å•

è¿™ä»½æ¸…å•æ€»ç»“äº†å®ç°æ·±åº¦å­¦ä¹ æ¡†æ¶éœ€è¦æŒæ¡çš„æ‰€æœ‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚

## ğŸ“ æ•°å­¦åŸºç¡€

### 1. çº¿æ€§ä»£æ•°
- [ ] å‘é‡å’ŒçŸ©é˜µçš„åŸºæœ¬æ¦‚å¿µ
- [ ] çŸ©é˜µä¹˜æ³•è§„åˆ™
- [ ] çŸ©é˜µè½¬ç½®
- [ ] ç‚¹ç§¯ï¼ˆdot productï¼‰
- [ ] å‘é‡/çŸ©é˜µçš„å½¢çŠ¶ï¼ˆshapeï¼‰
- [ ] å¹¿æ’­æœºåˆ¶ï¼ˆbroadcastingï¼‰

**å¿…ä¼šå…¬å¼ï¼š**
```
çŸ©é˜µä¹˜æ³•ï¼š
C = A @ B
å…¶ä¸­ A: [m, n], B: [n, p], C: [m, p]
C[i,j] = Î£ A[i,k] * B[k,j]

è½¬ç½®ï¼š
(AB)^T = B^T A^T
```

### 2. å¾®ç§¯åˆ†
- [ ] å¯¼æ•°çš„å®šä¹‰
- [ ] åå¯¼æ•°
- [ ] **é“¾å¼æ³•åˆ™**ï¼ˆæœ€é‡è¦ï¼ï¼‰
- [ ] æ¢¯åº¦å‘é‡
- [ ] é›…å¯æ¯”çŸ©é˜µ

**å¿…ä¼šå…¬å¼ï¼š**
```
é“¾å¼æ³•åˆ™ï¼š
å¦‚æœ z = f(y), y = g(x)
åˆ™ dz/dx = dz/dy Â· dy/dx

å¤šå˜é‡é“¾å¼æ³•åˆ™ï¼š
âˆ‚z/âˆ‚x = Î£ (âˆ‚z/âˆ‚y_i Â· âˆ‚y_i/âˆ‚x)
```

### 3. å¸¸ç”¨å‡½æ•°çš„å¯¼æ•°
- [ ] å¹‚å‡½æ•°ï¼šd/dx(x^n) = nÂ·x^(n-1)
- [ ] æŒ‡æ•°å‡½æ•°ï¼šd/dx(e^x) = e^x
- [ ] å¯¹æ•°å‡½æ•°ï¼šd/dx(ln x) = 1/x
- [ ] Sigmoidï¼šÏƒ'(x) = Ïƒ(x)Â·(1-Ïƒ(x))
- [ ] Softmaxï¼šå¤æ‚çš„é›…å¯æ¯”çŸ©é˜µ

---

## ğŸ§® NumPy æ“ä½œ

### 1. æ•°ç»„åˆ›å»ºå’Œæ“ä½œ
```python
# åˆ›å»ºæ•°ç»„
np.array([1, 2, 3])
np.zeros((2, 3))
np.ones((2, 3))
np.random.randn(2, 3)

# å½¢çŠ¶æ“ä½œ
arr.shape          # è·å–å½¢çŠ¶
arr.reshape(2, 3)  # æ”¹å˜å½¢çŠ¶
arr.T              # è½¬ç½®

# ç´¢å¼•å’Œåˆ‡ç‰‡
arr[0]             # ç¬¬ä¸€ä¸ªå…ƒç´ 
arr[:, 0]          # ç¬¬ä¸€åˆ—
arr[1:3, :]        # ç¬¬2å’Œç¬¬3è¡Œ
```

### 2. æ•°å­¦è¿ç®—
```python
# é€å…ƒç´ è¿ç®—
a + b              # åŠ æ³•
a * b              # ä¹˜æ³•
np.exp(a)          # æŒ‡æ•°
np.log(a)          # å¯¹æ•°

# çŸ©é˜µè¿ç®—
a @ b              # çŸ©é˜µä¹˜æ³•
np.dot(a, b)       # ç‚¹ç§¯

# èšåˆè¿ç®—
a.sum()            # æ±‚å’Œ
a.mean()           # å¹³å‡
a.max()            # æœ€å¤§å€¼
a.sum(axis=0)      # æ²¿è½´æ±‚å’Œ
```

### 3. å¹¿æ’­æœºåˆ¶
```python
# å¹¿æ’­ç¤ºä¾‹
a = np.array([[1, 2, 3]])     # [1, 3]
b = np.array([[1], [2], [3]]) # [3, 1]
c = a + b                      # [3, 3]

# è§„åˆ™ï¼š
# 1. å¦‚æœç»´åº¦ä¸åŒï¼Œåœ¨è¾ƒå°çš„æ•°ç»„å‰é¢è¡¥1
# 2. å¦‚æœæŸç»´åº¦å¤§å°ä¸º1ï¼Œæ²¿è¯¥ç»´åº¦å¤åˆ¶
```

---

## ğŸ§  æ·±åº¦å­¦ä¹ ç†è®º

### 1. ç¥ç»å…ƒæ¨¡å‹
```
è¾“å…¥ â†’ çº¿æ€§å˜æ¢ â†’ æ¿€æ´»å‡½æ•° â†’ è¾“å‡º
x â†’ z = wx + b â†’ a = Ïƒ(z) â†’ y
```

- [ ] ç†è§£çº¿æ€§å˜æ¢çš„ä½œç”¨
- [ ] ç†è§£æ¿€æ´»å‡½æ•°çš„ä½œç”¨
- [ ] ä¸ºä»€ä¹ˆéœ€è¦éçº¿æ€§ï¼Ÿ

### 2. å‰å‘ä¼ æ’­
```
é€å±‚è®¡ç®—è¾“å‡ºï¼š
h1 = Ïƒ1(W1Â·x + b1)
h2 = Ïƒ2(W2Â·h1 + b2)
y = Ïƒ3(W3Â·h2 + b3)
```

- [ ] ç†è§£å±‚ä¸å±‚ä¹‹é—´çš„è¿æ¥
- [ ] ç†è§£æ‰¹å¤„ç†çš„æ¦‚å¿µ

### 3. åå‘ä¼ æ’­
```
é€å±‚è®¡ç®—æ¢¯åº¦ï¼ˆä»åå¾€å‰ï¼‰ï¼š
âˆ‚L/âˆ‚W3 = âˆ‚L/âˆ‚y Â· âˆ‚y/âˆ‚W3
âˆ‚L/âˆ‚h2 = âˆ‚L/âˆ‚y Â· âˆ‚y/âˆ‚h2
âˆ‚L/âˆ‚W2 = âˆ‚L/âˆ‚h2 Â· âˆ‚h2/âˆ‚W2
...
```

**å…³é”®ï¼š** åˆ©ç”¨é“¾å¼æ³•åˆ™ï¼Œæ¢¯åº¦ä»è¾“å‡ºå±‚ä¼ å›è¾“å…¥å±‚

### 4. è®¡ç®—å›¾
```
ä¾‹å­ï¼šz = (x + y) * w

å‰å‘å›¾ï¼š
x â”€â”
   â”œâ†’ [+] â”€â†’ t â”€â”
y â”€â”˜           â”œâ†’ [*] â”€â†’ z
w â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åå‘å›¾ï¼š
âˆ‚L/âˆ‚x â†â”€â”
        â”œâ† [+] â†â”€ âˆ‚L/âˆ‚t â†â”€â”
âˆ‚L/âˆ‚y â†â”€â”˜                â”œâ† [*] â†â”€ âˆ‚L/âˆ‚z
âˆ‚L/âˆ‚w â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”¢ æ ¸å¿ƒç®—æ³•

### 1. è‡ªåŠ¨å¾®åˆ†
- [ ] ç†è§£è®¡ç®—å›¾çš„æ„å»º
- [ ] å‰å‘æ¨¡å¼ vs åå‘æ¨¡å¼
- [ ] å¦‚ä½•å­˜å‚¨ä¸­é—´ç»“æœ
- [ ] å¦‚ä½•å¤„ç†åˆ†æ”¯å’Œå…±äº«èŠ‚ç‚¹

### 2. æ¢¯åº¦è®¡ç®—å…¬å¼

**Dense å±‚ï¼šy = xW + b**
```
å·²çŸ¥ï¼šâˆ‚L/âˆ‚y
æ±‚ï¼š
âˆ‚L/âˆ‚W = x^T @ (âˆ‚L/âˆ‚y)
âˆ‚L/âˆ‚b = sum(âˆ‚L/âˆ‚y, axis=0)
âˆ‚L/âˆ‚x = (âˆ‚L/âˆ‚y) @ W^T
```

**ReLUï¼šy = max(0, x)**
```
âˆ‚y/âˆ‚x = 1 if x > 0 else 0
```

**Softmaxï¼šy_i = exp(x_i) / Î£exp(x_j)**
```
âˆ‚y_i/âˆ‚x_i = y_i(1 - y_i)
âˆ‚y_i/âˆ‚x_j = -y_iÂ·y_j (i â‰  j)
```

### 3. ä¼˜åŒ–ç®—æ³•

**SGD:**
```
Î¸ = Î¸ - lr Â· âˆ‡L
```

**Momentum:**
```
v = Î²Â·v + âˆ‡L
Î¸ = Î¸ - lrÂ·v
```

**Adam:**
```
m = Î²1Â·m + (1-Î²1)Â·âˆ‡L
v = Î²2Â·v + (1-Î²2)Â·âˆ‡LÂ²
m_hat = m / (1 - Î²1^t)
v_hat = v / (1 - Î²2^t)
Î¸ = Î¸ - lrÂ·m_hat / (âˆšv_hat + Îµ)
```

---

## ğŸ’» å®ç°æŠ€å·§

### 1. æ•°å€¼ç¨³å®šæ€§

**Softmax ç¨³å®šè®¡ç®—ï¼š**
```python
# ä¸ç¨³å®šï¼ˆå¯èƒ½æº¢å‡ºï¼‰
exp(x) / sum(exp(x))

# ç¨³å®šç‰ˆæœ¬
exp(x - max(x)) / sum(exp(x - max(x)))
```

**Log-Softmax:**
```python
# ä¸ç¨³å®š
log(softmax(x))

# ç¨³å®šç‰ˆæœ¬
x - max(x) - log(sum(exp(x - max(x))))
```

### 2. æ¢¯åº¦æ£€æŸ¥
```python
# æ•°å€¼æ¢¯åº¦
numerical_grad = (f(x + Îµ) - f(x - Îµ)) / (2Îµ)

# æ£€æŸ¥
error = |numerical_grad - auto_grad|
assert error < 1e-5
```

### 3. æ‰¹å¤„ç†æŠ€å·§
```python
# å•æ ·æœ¬
x: [features]
y = W @ x + b

# æ‰¹å¤„ç†
X: [batch_size, features]
Y = X @ W + b  # b è‡ªåŠ¨å¹¿æ’­
```

### 4. å†…å­˜ç®¡ç†
- [ ] ä»€ä¹ˆæ—¶å€™ç¼“å­˜ä¸­é—´ç»“æœï¼Ÿ
- [ ] ä»€ä¹ˆæ—¶å€™å¯ä»¥é‡Šæ”¾ï¼Ÿ
- [ ] å¦‚ä½•å¤„ç†å¤§æ‰¹é‡æ•°æ®ï¼Ÿ

---

## ğŸ¯ è°ƒè¯•æŠ€å·§

### 1. å½¢çŠ¶æ£€æŸ¥
```python
print(f"X shape: {X.shape}")
print(f"W shape: {W.shape}")
print(f"Y shape: {Y.shape}")
# ç¡®ä¿ç»´åº¦åŒ¹é…
```

### 2. æ¢¯åº¦æ£€æŸ¥
```python
# å¯¹æ¯ä¸ªå‚æ•°è¿›è¡Œæ•°å€¼æ¢¯åº¦æ£€æŸ¥
for param in model.parameters():
    check_gradient(param)
```

### 3. è¿‡æ‹Ÿåˆå°æ•°æ®é›†
```python
# ç”¨å¾ˆå°çš„æ•°æ®é›†ï¼ˆ10ä¸ªæ ·æœ¬ï¼‰è®­ç»ƒ
# æ¨¡å‹åº”è¯¥èƒ½å®Œç¾æ‹Ÿåˆï¼ˆloss â†’ 0ï¼‰
# å¦‚æœä¸èƒ½ï¼Œè¯´æ˜å®ç°æœ‰bug
```

### 4. æ‰“å°ä¸­é—´å€¼
```python
print(f"Layer 1 output: {h1.data}")
print(f"Layer 1 grad: {h1.grad}")
print(f"Weight grad: {W1.grad}")
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆæ¢¯åº¦è¦ç´¯åŠ ï¼Ÿ
A: å› ä¸ºä¸€ä¸ªå‚æ•°å¯èƒ½è¢«å¤šä¸ªæ“ä½œä½¿ç”¨ï¼Œéœ€è¦ç´¯åŠ æ‰€æœ‰è·¯å¾„çš„æ¢¯åº¦ã€‚

### Q2: ä¸ºä»€ä¹ˆéœ€è¦ zero_grad()ï¼Ÿ
A: æ¯æ¬¡åå‘ä¼ æ’­å‰éœ€è¦æ¸…é›¶ï¼Œå¦åˆ™æ¢¯åº¦ä¼šç´¯åŠ åˆ°ä¹‹å‰çš„å€¼ä¸Šã€‚

### Q3: ä¸ºä»€ä¹ˆä¸èƒ½å…¨éƒ¨åˆå§‹åŒ–ä¸º 0ï¼Ÿ
A: ä¼šå¯¼è‡´å¯¹ç§°æ€§é—®é¢˜ï¼Œæ‰€æœ‰ç¥ç»å…ƒå­¦åˆ°ç›¸åŒçš„ç‰¹å¾ã€‚

### Q4: å­¦ä¹ ç‡å¦‚ä½•é€‰æ‹©ï¼Ÿ
A: 
- å¤ªå¤§ï¼šä¸æ”¶æ•›ï¼Œéœ‡è¡
- å¤ªå°ï¼šæ”¶æ•›æ…¢
- æ¨èï¼š0.001ï¼ˆAdamï¼‰æˆ– 0.01ï¼ˆSGDï¼‰

### Q5: Batch Size å¦‚ä½•é€‰æ‹©ï¼Ÿ
A:
- å¤ªå¤§ï¼šå†…å­˜ä¸å¤Ÿï¼Œæ³›åŒ–èƒ½åŠ›å·®
- å¤ªå°ï¼šè®­ç»ƒä¸ç¨³å®š
- æ¨èï¼š32, 64, 128

---

## ğŸ“š æ¨èå­¦ä¹ è·¯å¾„

### ç¬¬ä¸€æ­¥ï¼šæ‰“å¥½æ•°å­¦åŸºç¡€
1. å¤ä¹ çº¿æ€§ä»£æ•°ï¼ˆé‡ç‚¹ï¼šçŸ©é˜µä¹˜æ³•ã€è½¬ç½®ï¼‰
2. å¤ä¹ å¾®ç§¯åˆ†ï¼ˆé‡ç‚¹ï¼šé“¾å¼æ³•åˆ™ï¼‰
3. ç»ƒä¹ æ‰‹ç®—ç®€å•ç½‘ç»œçš„æ¢¯åº¦

### ç¬¬äºŒæ­¥ï¼šç†è§£æ ¸å¿ƒæ¦‚å¿µ
1. è§‚çœ‹ 3Blue1Brown çš„ç¥ç»ç½‘ç»œç³»åˆ—
2. ç†è§£è®¡ç®—å›¾å’Œåå‘ä¼ æ’­
3. æ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€å•çš„ä¾‹å­

### ç¬¬ä¸‰æ­¥ï¼šåŠ¨æ‰‹å®ç°
1. ä» Tensor ç±»å¼€å§‹
2. é€æ­¥å®ç°æ¯ä¸ªæ¨¡å—
3. ç”¨æµ‹è¯•éªŒè¯æ¯ä¸€æ­¥

### ç¬¬å››æ­¥ï¼šè°ƒè¯•å’Œä¼˜åŒ–
1. ä½¿ç”¨æ¢¯åº¦æ£€æŸ¥
2. åœ¨å°æ•°æ®é›†ä¸Šæµ‹è¯•
3. é€æ­¥å¢åŠ å¤æ‚åº¦

---

## âœ… æŒæ¡æ ‡å‡†

å½“ä½ èƒ½å¤Ÿï¼š
- [ ] ä¸çœ‹ä»£ç ï¼Œåœ¨ç™½æ¿ä¸Šæ¨å¯¼åå‘ä¼ æ’­å…¬å¼
- [ ] è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦é“¾å¼æ³•åˆ™
- [ ] å®ç°ä¸€ä¸ªå®Œæ•´çš„ MLP å¹¶è®­ç»ƒ
- [ ] è°ƒè¯•æ¢¯åº¦ä¸æ”¶æ•›çš„é—®é¢˜
- [ ] åœ¨ MNIST ä¸Šè¾¾åˆ° >95% å‡†ç¡®ç‡

ä½ å°±çœŸæ­£æŒæ¡äº†æ·±åº¦å­¦ä¹ çš„æ ¸å¿ƒåŸç†ï¼ğŸ‰
